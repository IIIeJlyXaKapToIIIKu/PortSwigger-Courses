## How do web servers handle requests for static files?
Before learning how to exploit file upload vulnerabilities, it is important to understand the basic principles of how servers handle requests for static files.

Historically, websites consisted almost entirely of static files that were served to users on request. Therefore, the path of each request might be directly mapped (`1:1`) to the hierarchy of directories and files in the `file system` of the server. Today, websites have become more dynamic, and the request path is often not directly mapped to the `file system` at all. However, servers still handle requests for static files: stylesheets, images, etc.

The process for handling them is largely the same:

1. The server parses the path in the request to determine the file extension.

2. Compares it to pre-defined extension and `MIME type` mappings to determine the type of file being requested.
3. What happens next depends on the file type and server configuration:
    * **Non-executable files** (images, static `HTML`): the server may send the file contents to the client in the `HTTP response`.
    * **Executable files** (e.g. `.php`), **if** the server is configured to execute them: the server will set variables based on the `HTTP request` headers and parameters, execute the script and send the result to the client.
    * **Executable files**, **if** the server is **not** configured to execute them: an error will usually be returned. **However** sometimes the file contents may be sent to the client as plain text. Such configuration errors can sometimes leak source code or other sensitive information (see our `Information Disclosure` materials for an example).

>[!info] Tip:
The `Content-Type` response header can give a hint as to what type of file the server thinks was sent. If an application does not explicitly set this header, its value typically reflects the result of matching the file extension against the `MIME type`.