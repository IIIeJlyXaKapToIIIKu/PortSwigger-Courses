## Insufficient Blacklisting of Dangerous File Types
One of the more obvious ways to prevent malicious scripts from loading is to blacklist potentially dangerous file extensions, such as `.php`. The practice of blacklisting is inherently flawed, since it is difficult to explicitly block every possible extension that could be used to execute code. Such blacklists can sometimes be circumvented by using lesser-known alternative file extensions that may still be executable, such as `.php5`, `.shtml`, and so on.

## Overriding Server Configuration
As we discussed in the [[7. Preventing File Execution in Public Directories|previous section]], servers generally do not execute files unless they are configured to do so. For example, before an Apache server will execute PHP files requested by a client, developers may need to add the following directives to their /etc/apache2/apache2.conf file:
```Apache
LoadModule php_module /usr/lib/apache2/modules/libphp.so
AddType application/x-httpd-php .php
```

Many servers also allow developers to create special configuration files in separate directories to override or add to one or more global settings. Apache servers, for example, will load directory-specific configuration from an .htaccess file if present.

Similarly, developers can make directory-specific configuration on IIS servers using the web.config file. This can include directives like the following, which in this case allow JSON files to be served to users:
```XML
<staticContent>
<mimeMap fileExtension=".json" mimeType="application/json" />
</staticContent>
```

Web servers use these kinds of configuration files when they are present, but you are not usually allowed to access them via HTTP requests. However, you may occasionally find servers that do not prevent you from uploading your own malicious configuration file. In this case, even if the file extension you need is on a blacklist, you can trick the server into mapping an arbitrary custom file extension to an executable MIME type.

This is well demonstrated in practice in [[Loading a Web Shell by Bypassing an Extension Blacklist|Lab #4: Loading a Web Shell by Bypassing an Extension Blacklist]].